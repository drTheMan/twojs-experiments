// Generated by CoffeeScript 1.6.3
(function() {
  this.TwoApp = (function() {
    function TwoApp(_opts) {
      this.options = _opts;
      this.init();
    }

    TwoApp.prototype.init = function() {
      var _this = this;
      this.two = new Two({
        autostart: true,
        fullscreen: true,
        type: Two.Types.svg
      }).appendTo(document.body);
      $(window).on('resize', this._resize);
      $(window).on('keydown', function(e, data) {
        var _ref;
        if (e.metaKey || e.ctrlKey) {
          return;
        }
        e.preventDefault();
        if (e.keyCode === 32) {
          _this.running = (_ref = _this.running === false) != null ? _ref : {
            "true": false
          };
          if (_this.running) {
            return _this.two.play();
          } else {
            return _this.two.pause();
          }
        }
      });
      this.stripes = [
        new StripeRain({
          two: this.two,
          color: '#666666',
          rotation: -0.3
        }), new StripeRain({
          two: this.two,
          color: '#000000',
          rotation: 0.3 + Math.PI
        }), new StripeRain({
          two: this.two,
          color: '#AAAAAA',
          rotation: -0.3
        })
      ];
      this.stripes[0].group.translation.set(-800, 0);
      this.stripes[1].group.translation.set(this.two.width, 200);
      return this.stripes[2].group.translation.set(800, 0);
    };

    TwoApp.prototype._resize = function() {
      if (!this.two) {
        return;
      }
      this.two.renderer.setSize($(window).width(), $(window).height());
      this.two.width = this.two.renderer.width;
      return this.two.height = this.two.renderer.height;
    };

    return TwoApp;

  })();

}).call(this);
